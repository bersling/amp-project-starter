<h1 id="ampprojectstarter">AMP Project Starter</h1>
<p>Starting a new project can take a lot of time, especially if the technology is new to you. That's why it's super useful, if you can build on the work of someone else. That someone is me and what you can build upon is <b>this page</b>. Just download it, and you'll get a headstart to AMP development.</p>
<p>For development, the AMP project itself has <i>very</i> good <a href="https://www.ampproject.org/docs/reference/components">documentation</a> and additionally there's
  <a href="https://ampbyexample.com/">AMP by Example</a> which has helped me countless times. Both of those resources are great. So why do you need this starter? What AMP docs as well as AMP by example lack is a starter project for an AMP page. This is where this starter steps in, by providing a project project setup with good defaults.</p>
<h2 id="installrun">Install &amp; Run</h2>
<pre><code>git clone https://github.com/bersling/tsmean-amp.git my-project #replace my-project with your project's name
cd my-project
npm install #installs the required packages
npm run build #builds the build
npm start #starts a server
</code></pre>
<h2 id="projectstructure">Project structure</h2>
<p>To get an overview of what you'll be working with, here's the structure:</p>
<pre><code>tsmean-amp/
├── app/
│   ├── components/ # here are reusable UI elements for your app
│   │   ├── some-component/
│   │   │   ├── some-component.html
│   │   │   └── some-component.scss
│   │   └── ... # more components
│   ├── pages/ #here go pages of your app (e.g. /about)
│   │   ├── index.html # the root page
│   │   ├── ... # more pages
│   │   ├── category1/ # pages that will be available on /category1
│   │   │   ├── page1.html # will be on /category/page1
│   │   │   ├── page2.html
│   │   │   └── ... # more pages
│   │   └── ... # more categories
│   └── styles/ # here go styles that don't belong to a component
│       ├── styles.scss # the root of your scss
│       ├── button.scss # styling your buttons...
│       └── ... # even more styles
├── img/ # all images
├── dist/ # auto-generated folder that holds the compiled sources
├── node_modules/ # auto-generated folder that holds the node_modules
├── README.md # what you're currently reading
├── deploy.sh # deploy script, adjust to your needs...
├── package.json # definition of all "npm" commands &amp; packages that are required
├── server.ts # small server to test app locally
├── yarn.lock # auto-generated, ensures the same packages are installed for all yarn users.
├── .gitignore # files being ignored from git
└── compile.ts # part of the build process
</code></pre>
<h2 id="development">Development</h2>
<h3 id="runningaserver">Running a server</h3>
<p>You can run a local server for development using</p>
<pre><code>npm start
</code></pre>
<p>Now you should have a server running at port 8082. You'll just do this at the start of each development session. If you're heading ofer to http://localhost:8082, you'll find what the server is serving. If you've built the project, it should display the landing page.</p>
<h3 id="rebuildingwhenyouchangedsomething">Rebuilding when you changed something</h3>
<p>To rebuild the project, after you've modified html or scss files or after you've added images to the img directory (or after any changes at all), run:</p>
<pre><code>npm run build
</code></pre>
<p>This executes the "build" command in "scripts" in the <code>package.json</code> file.</p>
<h3 id="changingthehtml">Changing the html</h3>
<p>Html is divided into two groups: pages and components. Pages are e.g. /about or /home. Components are things you want to <strong>reuse</strong>, for example <code>footer.html</code> which you'll use on every page. After changes, run <code>npm run build</code>.</p>
<h3 id="changingthestylescssscss">Changing the styles (css / scss)</h3>
<p>Scss is sass, which is a precompiler for css to write more modular css. It's actually pretty easy to learn, you'll get the basics in 10 minutes by reading: http://sass-lang.com/guide</p>
<p>If styles are for a specific component, put them in the same folder as the html. <strong>You'll have to register/import all .scss files in styles.scss!</strong></p>
<p>If they are general-purpose styles, put them in the styles folder at a matching position.</p>
<p>After changes, run <code>npm run build</code>.</p>
<h3>AMP</h3>
<p>Since it's an AMP project, you'll have to be careful to follow the rules
  of AMP. For instance, in an AMP project you're not allowed to use
  the <code>&lt;img&gt;</code> tag. You'll have to use the <code>&lt;amp-img&gt;</code> tag. If you don't follow those rules
  your page doesn't break, it just doesn't get the "AMP-SEO Bonus" anymore. During the build process, it logs to the console whether each page passes amp validation or not.</p>
<p>AMP has a lot of predefined components and a pretty good documentation you can find at https://www.ampproject.org/ and you'll find examples for all components at https://ampbyexample.com/.</p>
