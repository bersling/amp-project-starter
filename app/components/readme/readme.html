<!-- README.md and readme.html are IDENTICAL. -->
<!-- There is no build process for this, just copy past the changed file manually -->
<!-- I would suggest editing in the .html file, since IDEs will handle that better -->
<h1 id="ampprojectstarter">AMP Project Starter</h1>
<p>
  Starting a new project can take a lot of time, especially if the technology is new to you. What often helps is a <b>project starter</b>, meaning a template so you can have a look at how it's done.
</p>
<p>For the development process, the AMP project itself has very good <a href="https://www.ampproject.org/docs/reference/components">documentation</a> and additionally there's
  <a href="https://ampbyexample.com/">AMP by Example</a> which helps with countless examples. Both of those resources are great, but they lack information on how to <i>actually</i> build an entire AMP page. The AMP by example page actually is built with AMP and the code is available on Github, but I find it a bit too difficult to get into for the average user. I wanted something simple to understand, yet modular and scalable. That's why I'm writing html templates with Mustache and use the css preprocessor Sass (scss). Many developers are familiar with those tools, yet they fully support a mature AMP page.
</p>
<h2 id="installrun">Install &amp; Run</h2>
<pre><code>git clone https://github.com/bersling/amp-project-starter
cd amp-project-starter
npm install
npm start</code></pre>
<h2 id="projectstructure">Project structure</h2>
<p>To get an overview of what you'll be working with, here's the structure:</p>
<pre><code>tsmean-amp/
├── app/
│   ├── components/ # here are reusable UI elements for your app
│   │   ├── some-component/
│   │   │   ├── some-component.html
│   │   │   └── some-component.scss
│   │   └── ... # more components
│   ├── pages/ #here go pages of your app (e.g. /about)
│   │   ├── index.html # the root page
│   │   ├── ... # more pages
│   │   ├── category1/ # pages that will be available on /category1
│   │   │   ├── page1.html # will be on /category/page1
│   │   │   ├── page2.html
│   │   │   └── ... # more pages
│   │   └── ... # more categories
│   └── styles/ # here go styles that don't belong to a component
│       ├── styles.scss # the root of your scss
│       ├── button.scss # styling your buttons...
│       └── ... # even more styles
├── img/ # all images
├── dist/ # auto-generated folder that holds the compiled sources
├── node_modules/ # auto-generated folder that holds the node_modules
├── README.md # what you're currently reading
├── deploy.sh # deploy script, adjust to your needs...
├── package.json # definition of all "npm" commands &amp; packages that are required
├── server.js # small server to test app locally
├── .gitignore # files being ignored from git
└── compile.js # part of the build process
</code></pre>

<h2 id="development">Development</h2>
<h3 id="runningaserver">Running a server</h3>
<p>You can run a local server for development using</p>
<pre><code>npm start
</code></pre>
<p>Now you should have a server running at port 8082. You'll just do this at the start of each development session. If you're heading ofer to http://localhost:8082, you'll find what the server is serving. If you've built the project, it should display the landing page.</p>
<h3 id="rebuildingwhenyouchangedsomething">Rebuilding when you changed something</h3>
<p>To rebuild the project, after you've modified html or scss files or after you've added images to the img directory (or after any changes at all), run:</p>
<pre><code>npm run build
</code></pre>
<p>This executes the "build" command in "scripts" in the <code>package.json</code> file.</p>

<h3 id="changingthehtml">Changing the html</h3>
<p>Html is divided into two groups: pages and components. Pages are e.g. /about or /home. Components are things you want to <strong>reuse</strong>, for example <code>footer.html</code> which you'll use on every page. After changes, run <code>npm run build</code>.</p>

<p>
To create a new page, create the necessary (AMP compatible) html. Then open <b><code>compile.js</code></b> and
  <b>register</b> your new page there! The same holds true for new components.
</p>

<p>
  As a templating language, this starter uses <b>Mustache</b>. Here's a good tutorial on Mustache:
  <a href="https://www.bersling.com/2017/09/22/the-ultimate-mustache-tutorial/">The Ultimate Mustache Tutorial</a>.
  The following mustache implementation is used: <a href="https://github.com/janl/mustache.js">Mustache for JavaScript</a>.
</p>

<h3 id="changingthestylescssscss">Changing the styles (css / scss)</h3>
<p>Scss is sass, which is a precompiler for css to write more modular css. It's actually pretty easy to learn, you'll get the basics in 10 minutes by reading: http://sass-lang.com/guide</p>
<p>If styles are for a specific component, put them in the same folder as the html. <strong>You'll have to register/import all .scss files in styles.scss!</strong></p>
<p>If they are general-purpose styles, put them in the styles folder at a matching position.</p>
<p>After changes, run <code>npm run build</code>.</p>

<h3>AMP</h3>
<p>Since it's an AMP project, you'll have to be careful to follow the rules
  of AMP. For instance, in an AMP project you're not allowed to use
  the <code>&lt;img&gt;</code> tag. You'll have to use the <code>&lt;amp-img&gt;</code> tag. If you don't follow those rules
  your page doesn't break, it just doesn't get the "AMP-SEO Bonus" anymore. During the build process, it logs to the console whether each page passes amp validation or not.</p>
<p>AMP has a lot of predefined components and a pretty good documentation you can find at <a href="https://www.ampproject.org/">https://www.ampproject.org/</a> and you'll find examples for all components at
  <a href="https://ampbyexample.com/">https://ampbyexample.com/</a>.</p>

<h2>
  Contact
</h2>
<p>
  If you're missing a feature from this starter or have some other feedback for me, let me know! You can reach me at
  <a href="mailto:bersling@gmail.com">bersling@gmail.com</a>.
</p>
